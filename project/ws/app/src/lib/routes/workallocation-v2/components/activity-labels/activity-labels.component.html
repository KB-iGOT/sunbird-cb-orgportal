<div class="example-container flex-1 flex-column" cdkDropListGroup>
  <form [formGroup]="activityForm" (ngSubmit)="submitResult(activityForm.value)" class="margin-top-xs">
    <div class=" flex flex-1 flex-row resporow">
      <div class="flex flex-1 flex-column example-list margin-r-2px">
        <span class="flex margin-left-m mat-subheading-2 margin-top-s">
          {{'Role and description'}}
        </span>
        <span class="flex margin-left-m mat-subheading-2 ws-mat-black60-text">
          {{'Unmapped activities'}}
        </span>
      </div>
      <div class="flex flex-4 flex-column example-list">
        <div class="flex flex-1">
          <div class="flex flex-2 min-w-200">
            <span class="flex mat-subheading-2 margin-top-xs margin-left-s">
              <mat-icon class="ws-mat-black40-text margin-right-s">directions_walk</mat-icon>
              Activities
            </span>
          </div>
          <div class="custom-w">&nbsp;</div>
          <div class="flex flex-1">
            <span class="flex mat-subheading-2 margin-top-xs">Submit to
              <mat-icon class="ws-mat-black40-text margin-left-s">info</mat-icon>
            </span>

          </div>
        </div>
        <div id="labels" cdkDropList (cdkDropListDropped)="drop($event)" [cdkDropListData]="labelsList.value"
          [cdkDropListEnterPredicate]="noReturnPredicate">
          <!-- <ng-container *ngIf="activityForm.get('labelsArray').value"> -->
          <div [id]="i" *ngFor="let _activity of activityForm.get('labelsArray').controls; let i = index">

            <div class="example-box" [cdkDragData]="activityForm.get('labelsArray').controls[i].value" cdkDrag>
              <div class="margin-right-xs">
                <mat-icon class="ws-mat-black40-text">drag_indicator</mat-icon>
              </div>
              <div class="flex flex-1" [formGroup]="_activity">
                <div class="flex flex-2 margin-2px">
                  <mat-form-field appearance="outline" class="full-width no-pb square outline-color">
                    <input id="actDesc" matInput #actDesc formControlName="activityDescription" i18n-placeholder
                      placeholder="Type here" i18n-aria-label aria-label="Activity name input" class="form-input flex-1"
                      autocomplete="off" />
                  </mat-form-field>
                </div>
                <div class="flex flex-1 margin-2px">
                  <mat-form-field appearance="outline" class="full-width no-pb square outline-color">
                    <input id="assignto" matInput #assignto formControlName="assignedTo" i18n-placeholder
                      placeholder="Type here" i18n-aria-label aria-label="Activity description input"
                      class="form-input flex-1" autocomplete="off" />
                  </mat-form-field>
                </div>

              </div>
            </div>
          </div>
          <!-- </ng-container> -->
        </div>
        <div class="flex flex-1">
          <div class="custom-w">&nbsp;</div>
          <a href="javascript:void(0)" class="flex padding-s" (click)="addNewLabel()">
            <mat-icon class="ws-mat-black60-text">add</mat-icon>
            <span class="mat-subheading-2 ws-mat-black60-text">Activity</span>
          </a>
        </div>
      </div>
    </div>
    <div *ngIf="groups.length > 0" class="flex flex-1 flex-column margin-top-xs">
      <ng-container *ngFor="let grp of groups; let i=index">
        <div class=" flex flex-1 flex-row resporow margin-top-xs">
          <div class="flex flex-1 flex-column group-background margin-r-2px ">
            <div class="flex flex-1 margin-top-s">
              <span class="flex margin-left-m margin-top-m mat-subheading-2">
                {{'Untited role'}}
              </span>
              <mat-form-field appearance="outline" class="full-width no-pb square outline-color">
                <input id="roleName" matInput #roleName i18n-placeholder placeholder="Type here" i18n-aria-label
                  aria-label="Activity name input" class="form-input flex-1" autocomplete="off" />
              </mat-form-field>
            </div>
            <div class="flex flex-1 margin-top-s">
              <span class="flex margin-left-m mat-subheading-2 ws-mat-black60-text">
                {{'Role description'}}
              </span>
              <mat-form-field appearance="outline" class="full-width no-pb square outline-color">
                <input id="roleDesc" matInput #roleDesc i18n-placeholder placeholder="Type here" i18n-aria-label
                  aria-label="Activity name input" class="form-input flex-1" autocomplete="off" />
              </mat-form-field>
            </div>
          </div>
          <div class="flex-4 group-background">
            <div [attr.id]="'groups_' + i" (mouseenter)="enter(i)" cdkDropList [cdkDropListData]="grp.activities"
              (cdkDropListDropped)="dropgroup($event)" [cdkDropListEnterPredicate]="evenPredicate"
              class="flex-1 margin-top-s">
              <ng-container *ngFor="let ga of grp?.activities">
                <!-- <span class="mat-subheading-2">{{'Unmapped activities'}}</span> -->
                <div class="example-box" [cdkDragData]="number" cdkDrag>
                  <div class="margin-right-xs">
                    <mat-icon class="ws-mat-black40-text">drag_indicator</mat-icon>
                  </div>
                  <div class="flex flex-1">
                    <div class="flex flex-2 margin-2px">
                      <mat-form-field appearance="outline" class="full-width no-pb square outline-color">
                        <input id="actDesc" matInput #actDesc i18n-placeholder placeholder="Type here" i18n-aria-label
                          aria-label="Activity name input" class="form-input flex-1" autocomplete="off" />
                      </mat-form-field>
                    </div>
                    <div class="flex flex-1 margin-2px">
                      <mat-form-field appearance="outline" class="full-width no-pb square outline-color">
                        <input id="assignto" matInput #assignto i18n-placeholder placeholder="Type here" i18n-aria-label
                          aria-label="Activity description input" class="form-input flex-1" autocomplete="off" />
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </ng-container>
            </div>
            <div class="flex flex-1">
              <div class="custom-w">&nbsp;</div>
              <a href="javascript:void(0)" class="flex padding-s" (click)="addNewGroupActivity(i)">
                <mat-icon class="ws-mat-black60-text">add</mat-icon>
                <span class="mat-subheading-2 ws-mat-black60-text">Activity</span>
              </a>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
    <div class="flex flex-1">
      <!-- <div class="custom-w">&nbsp;</div> -->
      <a href="javascript:void(0)" class="flex padding-s" (click)="addNewGroup()">
        <mat-icon class="ws-mat-black60-text">add</mat-icon>
        <span class="mat-subheading-2 ws-mat-black60-text">Group</span>
      </a>
    </div>

    <pre>
      {{activityForm.value | json}}
    </pre>
  </form>
</div>