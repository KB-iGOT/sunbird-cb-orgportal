<div class="example-container">
    <h1 style="margin-top: 30px; margin-left: 20px;">Create a new draft work orders</h1>
    <div class="example-table-container">

        <div class="search">
            <div class=rsearch>
                <div class="draft-div">
                    <label>Name of the draft</label> <br />
                    <input class="sinput-1" type="Standard" value="Work order" [disabled]='true'>
                </div>

                <span style="margin: 35px 10px 0 35px;">-</span>
                <div class="draft-div">
                    <input class="sinput-2" type="Standard" [(ngModel)]="currentCheckedValue" #wordOrderName="ngModel"
                        placeholder="Type the name here" required> <br />
                    <span style="color: red;" *ngIf="(!wordOrderName.valid) && wordOrderName.touched && isBlank">
                        Please enter the blank work order name</span>
                    <span style="color: red;" *ngIf="(!wordOrderName.valid) && wordOrderName.touched && !isBlank">
                        Please enter the copy work order name</span>
                </div>
            </div>

        </div>
        <div style="margin-top: 30px; margin-left: 20px;" *ngIf="this.dataSource.data.length>0">
            <h4>Copy from a published work order (optional)</h4>
            <input class="sinput" type="Standard" label="" placeholder="Search"
                (input)="applyFilter($event.target.value)">
        </div>


        <!-- </mat-form-field> -->
        <mat-table #table matSort [ngStyle]="{'height': bodyHeight}" [matSortActive]="tableData!.sortColumn"
            [matSortDirection]="tableData!.sortState" [dataSource]="dataSource"
            class=" example-table table1 responsiveTable" *ngIf="this.dataSource.data.length>0">
            <ng-container matColumnDef="{{col.key}}" *ngFor="let col of tableData!.columns">
                <mat-header-cell *matHeaderCellDef mat-sort-header> {{col.displayName}} </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <span *ngIf="col.isList" class="textclass"
                        [matTooltip]="(element[col.key]).split('<br />').join(', ')">
                        <div innerHTML="{{element[col.key]}}"></div>
                    </span>
                    <span *ngIf="!col.isList" class="textclass mat-body-2">
                        <mat-radio-button #button (click)="checkState(button)" [value]="element"
                            *ngIf="col.displayName==='Work orders'">
                        </mat-radio-button> {{element[col.key]}} {{col.isList}}
                    </span>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="Menu">
                <mat-header-cell *matHeaderCellDef class="clr-darkish-blue action-header">
                    <mat-icon>view_comfy</mat-icon>
                </mat-header-cell>
                <mat-cell *matCellDef="let row" class="action-cell">
                    <button type="button" mat-icon-button i18n-aria-label aria-label="action items"
                        [matMenuTriggerFor]="cardMenu" class="action-btn">
                        <mat-icon>more_horiz</mat-icon>
                    </button>
                </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="getFinalColumns()"></mat-header-row>
            <mat-row *matRowDef="let row; columns: getFinalColumns();" (click)="selection.toggle(row); onRowClick(row)">
            </mat-row>
        </mat-table>
        <div class="no-information-found" *ngIf="dataSource.filteredData.length===0 && isSearched">No published work
            order found
        </div>
    </div>
    <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" *ngIf="length>0">
    </mat-paginator>
    <mat-dialog-actions align="end" class="mb-0-imp">
        <button mat-raised-button type="button" [mat-dialog-close]="true" class="flex-auto-display">
            <span class="ws-mat-default-text" i18n>Cancel</span>
        </button>
        <button mat-raised-button type="button" *ngIf="isBlank" class="ws-mat-primary-background flex-auto-display"
            (click)="goToNewWat()" [disabled]="!currentCheckedValue">
            <span class="text-white" i18n>Create blank work order</span>
        </button>

        <button mat-raised-button type="button" *ngIf="!isBlank" class="ws-mat-primary-background flex-auto-display"
            (click)="goToCopyWat()" [disabled]="!currentCheckedValue">
            <span class="text-white" i18n>Create copy work order</span>
        </button>

    </mat-dialog-actions>


</div>

<mat-menu #cardMenu="matMenu">
    <ng-template matMenuContent>
        <div mat-menu-item>
            <button name="channel-analytics-button" class="ws-mat-primary-text" mat-icon-button i18n-aria-label
                aria-label="Analytics">
                <mat-icon>input</mat-icon> <span>Show on karmayogi</span>
            </button>
        </div>
        <div mat-menu-item>
            <button name="channel-analytics-button" class="ws-mat-primary-text" mat-icon-button i18n-aria-label
                aria-label="Analytics">
                <mat-icon>block</mat-icon><span>Block user</span>
            </button>
        </div>
        <div mat-menu-item>
            <button name="channel-analytics-button" class="ws-mat-primary-text" mat-icon-button i18n-aria-label
                aria-label="Analytics">
                <mat-icon>edit_attributes</mat-icon><span>Deactivate user</span>
            </button>
        </div>
        <div mat-menu-item>
            <button name="channel-analytics-button" class="ws-mat-primary-text" mat-icon-button i18n-aria-label
                aria-label="Analytics">
                <mat-icon>delete</mat-icon><span>Delete user</span>
            </button>
        </div>
    </ng-template>
</mat-menu>
